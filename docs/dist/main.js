(()=>{"use strict";var n={426:(n,e,t)=>{t.d(e,{Z:()=>f});var i=t(81),a=t.n(i),o=t(645),r=t.n(o),l=t(667),s=t.n(l),c=new URL(t(88),t.b),u=r()(a()),m=s()(c);u.push([n.id,"* {\n    font-family: 'Montserrat', sans-serif;\n}\nhtml {\n    height: 100%;\n}\nbody {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    margin-left: auto;\n    margin-right: auto;\n    background-image: url("+m+");\n}\n#headerContainer {\n    display: flex;\n    margin-right: auto;\n    margin-left: auto;\n    align-items: center;\n    padding: 10px;\n}\n#scoreWrapper {\n    text-decoration: none;\n    outline: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 33%;\n    height: 45%;\n    text-align: center;\n    border-radius: 10px;\n    font-family: 'Montserrat', sans-serif;\n    font-size: 11px;\n    text-transform: uppercase;\n    letter-spacing: 3px;\n    font-weight: 600;\n    color: black;\n    background: whitesmoke;\n    box-shadow: 0 8px 15px rgb(0 0 0 / 10%);\n    transition: 500ms;\n}\n#score {\n    display: inline;\n}\n#newGameButton {\n    padding: 0;\n    text-decoration: none;\n    outline: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 33%;\n    height: 45%;\n    border-radius: 10px;\n    margin: 10px 20px;\n    font-family: 'Montserrat', sans-serif;\n    font-size: 11px;\n    text-transform: uppercase;\n    letter-spacing: 3px;\n    font-weight: 600;\n    color: black;\n    background: whitesmoke;\n    box-shadow: 0 8px 15px rgb(0 0 0 / 10%);\n    transition: .3s;\n    cursor: pointer;\n}\n#newGameButton:hover {\n    background: #2EE59D;\n    box-shadow: 0 15px 20px rgba(46, 229, 157, 0.4);\n    color: #fff;\n}\n#gameName {\n    font-family: 'Montserrat', sans-serif;\n    display: flex;\n    color: whitesmoke;\n}\n#bodyContainer {\n    display: flex;\n    justify-content: center;\n    margin-right: auto;\n    margin-left: auto;\n    padding-bottom: 100px;\n}\n#mainTable {\n    display: flex;\n    justify-content: space-evenly;\n    height: 100%;\n    width: 100%;\n    background-color: #beaf9f;\n    border-radius: 10px;\n}\n\ntd {\n    position: relative;\n    border-radius: 10px;\n    background-color: #d0c1b4;\n    padding: 0;\n}\n.basicElement {\n    position: absolute;\n    z-index: 1;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin-right: auto;\n    margin-left: auto;\n    align-items: center;\n    justify-content: center;\n    border-radius: 10px;\n    font-weight: bold;\n    font-size: 35px;\n    transition: 200ms;\n    animation: show 300ms 1;\n    animation-fill-mode: forwards;\n}\n@keyframes show{\n    0% {\n        opacity: 0;\n        -webkit-transform: scale(0);\n        -moz-transform: scale(0);\n        transform: scale(0);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform: scale(1);\n        -moz-transform: scale(1);\n        transform: scale(1);\n    }\n}\n@keyframes pulse{\n    0% {\n        box-shadow: 0 0 0 0 rgba(228, 25, 49, 0.4);\n    }\n    70% {\n        box-shadow: 0 0 0 10px rgba(228, 25, 49, 0);\n    }\n    100% {\n        box-shadow: 0 0 0 0 rgba(228, 25, 49, 0);\n    }\n}\n\n/* Large desktops and laptops */\n/* Portrait tablets and medium desktops */\n/* Portrait tablets and small desktops */\n@media screen and (min-width: 768px) {\n    #headerContainer {\n        width: 620px;\n    }\n    #gameName {\n        font-size: 5em;\n    }\n    #newGameButton {\n        line-height: 45px;\n    }\n    #scoreWrapper {\n        line-height: 45px;\n    }\n    #mainTable {\n        border-spacing: 20px;\n    }\n    tr {\n        height: 100px;\n    }\n    td {\n        height: 100px;\n        width: 100px;\n    }\n}\n\n/* Landscape phones and portrait tablets */\n@media screen and (max-width: 767px) {\n    #headerContainer {\n        width: 410px;\n    }\n    #bodyContainer {\n        padding-bottom: 30px;\n    }\n    #gameName {\n        font-size: 4em;\n    }\n    #newGameButton {\n        line-height: 30px;\n    }\n    #scoreWrapper {\n        line-height: 30px;\n    }\n    #mainTable {\n        border-spacing: 10px;\n    }\n    tr {\n        height: 70px;\n    }\n    td {\n        height: 70px;\n        width: 70px;\n    }\n}\n\n/* Landscape phones and smaller */\n@media screen and (max-width: 480px) {\n    #bodyContainer {\n        padding-bottom: 10px;\n    }\n    #headerContainer {\n        width: 300px;\n    }\n    #gameName {\n        font-size: 3em;\n    }\n    #newGameButton {\n        line-height: 15px;\n        font-size: 8px;\n        letter-spacing: 2px;\n    }\n    #scoreWrapper {\n        line-height: 15px;\n        font-size: 8px;\n        letter-spacing: 2px;\n    }\n    #mainTable {\n        border-spacing: 10px;\n    }\n    .basicElement {\n        font-size: 20px;\n    }\n    tr {\n        height: 48px;\n    }\n    td {\n        height: 48px;\n        width: 48px;\n    }\n}",""]);const f=u},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",i=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),i&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),i&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,i,a,o){"string"==typeof n&&(n=[[null,n,void 0]]);var r={};if(i)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(r[s]=!0)}for(var c=0;c<n.length;c++){var u=[].concat(n[c]);i&&r[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),e.push(u))}},e}},667:n=>{n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var e=[];function t(n){for(var t=-1,i=0;i<e.length;i++)if(e[i].identifier===n){t=i;break}return t}function i(n,i){for(var o={},r=[],l=0;l<n.length;l++){var s=n[l],c=i.base?s[0]+i.base:s[0],u=o[c]||0,m="".concat(c," ").concat(u);o[c]=u+1;var f=t(m),h={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)e[f].references++,e[f].updater(h);else{var p=a(h,i);i.byIndex=l,e.splice(l,0,{identifier:m,updater:p,references:1})}r.push(m)}return r}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var o=i(n=n||[],a=a||{});return function(n){n=n||[];for(var r=0;r<o.length;r++){var l=t(o[r]);e[l].references--}for(var s=i(n,a),c=0;c<o.length;c++){var u=t(o[c]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}o=s}}},569:n=>{var e={};n.exports=function(n,t){var i=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var i="";t.supports&&(i+="@supports (".concat(t.supports,") {")),t.media&&(i+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(i+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),i+=t.css,a&&(i+="}"),t.media&&(i+="}"),t.supports&&(i+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(i,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},88:(n,e,t)=>{n.exports=t.p+"ece11d104b7a0c48ba21.jpg"}},e={};function t(i){var a=e[i];if(void 0!==a)return a.exports;var o=e[i]={id:i,exports:{}};return n[i](o,o.exports,t),o.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var i in e)t.o(e,i)&&!t.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:e[i]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var i=e.getElementsByTagName("script");i.length&&(n=i[i.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})(),t.b=document.baseURI||self.location.href,(()=>{var n={2:"#f0e5da",4:"#efe2c6",8:"#fbb26c",16:"#ff9251",32:"#ff744e",64:"#ff4d08",128:"#f0d360",256:"#f1d146",512:"#f1cd26",1024:"#f2ca00",2048:"#f2c700"};function e(e){var t=parseInt(e.innerText);t<=2048?(e.style.backgroundColor=n["".concat(t)],t>4&&(e.style.color="#faf6f2")):e.style.backgroundColor="black"}function i(n,e){return n=Math.ceil(n),e=Math.floor(e),Math.floor(Math.random()*(e-n))+n}function a(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return o(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,a=function(){};return{s:a,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return l=n.done,n},e:function(n){s=!0,r=n},f:function(){try{l||null==t.return||t.return()}finally{if(s)throw r}}}}function o(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function r(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function l(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var s={gridWidth:4,gridHeight:4},c=l((function n(e){var t,o;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),o=[],(t="grid")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this.grid=o,this.getGrid=function(){return this.grid},this.addToCurrentScore=function(n){this.currentScore+=n},this.createGrid=function(n,e){for(var t=1;t<=n;t++){var i=[];this.grid.push(i);for(var a=1;a<=e;a++){var o={value:!1,row:"".concat(t),column:"".concat(a)};i.push(o)}}return this.grid},this.elementCreate=function(n){var e,t,a;e=9===i(0,10)?4:2;do{t=i(0,s.gridHeight),a=i(0,s.gridWidth)}while(!1!==n[+t][+a].value);return n[+t][+a].value=e,n[t][a]},this.getElementCreate=function(){return this.elementCreate},this.move=function(n){for(var e=this.grid,t=[],i=[],o=0;o<this.grid[0].length;o++){var r,l=[],s=a(this.grid);try{for(s.s();!(r=s.n()).done;){var c=r.value;l.push(c[o])}}catch(n){s.e(n)}finally{s.f()}i.push(l)}if("left"===n){var u,m=a(e);try{for(m.s();!(u=m.n()).done;){var f,h=u.value,p=a(this.sum(h,"left"));try{for(p.s();!(f=p.n()).done;){var d=f.value;t.push(d)}}catch(n){p.e(n)}finally{p.f()}for(var v=1;v<h.length;v++)if(!1!==h[v].value)for(var g=0;g<=v;g++)if(!1===h[g].value){h[g].value=h[v].value,h[v].value=!1,t.push(this.moveHelper(h,"left",v,g));break}}}catch(n){m.e(n)}finally{m.f()}}if("right"===n){var y,b=a(e);try{for(b.s();!(y=b.n()).done;){var w,x=y.value,T=a(this.sum(x,"right"));try{for(T.s();!(w=T.n()).done;){var C=w.value;t.push(C)}}catch(n){T.e(n)}finally{T.f()}for(var E=x.length-2;E>=0;E--)if(!1!==x[E].value)for(var D=x.length-1;D>=E;D--)if(!1===x[D].value){x[D].value=x[E].value,x[E].value=!1,t.push(this.moveHelper(x,"right",E,D));break}}}catch(n){b.e(n)}finally{b.f()}}if("top"===n){var I,S=a(i);try{for(S.s();!(I=S.n()).done;){var k,A=I.value,M=a(this.sum(A,"top"));try{for(M.s();!(k=M.n()).done;){var R=k.value;t.push(R)}}catch(n){M.e(n)}finally{M.f()}for(var j=1;j<A.length;j++)if(!1!==A[j].value)for(var G=0;G<=j;G++)if(!1===A[G].value){A[G].value=A[j].value,A[j].value=!1,t.push(this.moveHelper(A,"top",j,G));break}}}catch(n){S.e(n)}finally{S.f()}}if("bottom"===n){var H,P=a(i);try{for(P.s();!(H=P.n()).done;){var z,N=H.value,O=a(this.sum(N,"bottom"));try{for(O.s();!(z=O.n()).done;){var W=z.value;t.push(W)}}catch(n){O.e(n)}finally{O.f()}for(var L=N.length-2;L>=0;L--)if(!1!==N[L].value)for(var B=N.length-1;B>=L;B--)if(!1===N[B].value){N[B].value=N[L].value,N[L].value=!1,t.push(this.moveHelper(N,"bottom",L,B));break}}}catch(n){P.e(n)}finally{P.f()}}if(t.length>0){this.animationDone=!1;var q=this.elementCreate(this.grid),U={animationType:"append",animationTargetRow:q.row,animationTargetColumn:q.column,animationNewValue:q.value};t.push(U)}return t},this.moveHelper=function(n,e,t,i){return"left"===e||"top"===e?{animationType:"move",animationTargetRow:n[t].row,animationTargetColumn:n[t].column,animationDirection:e,animationDistance:t-i}:"right"===e||"bottom"===e?{animationType:"move",animationTargetRow:n[t].row,animationTargetColumn:n[t].column,animationDirection:e,animationDistance:i-t}:void 0},this.getMove=function(){return this.move},this.sum=function(n,e){var t=[];if("left"===e||"top"===e)for(var i=0;i<n.length&&2!==t.length;i++)if(!1!==n[i].value)for(var o=i+1;o<n.length;o++)if(n[o].value===n[i].value){var r,l=!0,s=a(n.slice(i+1,o));try{for(s.s();!(r=s.n()).done;)!1!==r.value.value&&(l=!1)}catch(n){s.e(n)}finally{s.f()}if(l){n[i].value*="2",n[o].value=!1,this.addToCurrentScore(n[i].value),t.push(this.sumHelper(n,e,i,o));break}}if("right"===e||"bottom"===e)for(var c=n.length-1;c>=0&&2!==t.length;c--)if(!1!==n[c].value)for(var u=c-1;u>=0;u--)if(n[u].value===n[c].value){var m,f=!0,h=a(n.slice(u+1,c));try{for(h.s();!(m=h.n()).done;)!1!==m.value.value&&(f=!1)}catch(n){h.e(n)}finally{h.f()}if(f){n[c].value*="2",n[u].value=!1,this.addToCurrentScore(n[c].value),t.push(this.sumHelper(n,e,c,u));break}}return t},this.sumHelper=function(n,e,t,i){return"left"===e||"top"===e?{animationType:"sum",animationTargetRow:n[i].row,animationTargetColumn:n[i].column,animationDirection:e,animationDistance:i-t,animationNewValue:n[t].value}:"right"===e||"bottom"===e?{animationType:"sum",animationTargetRow:n[i].row,animationTargetColumn:n[i].column,animationDirection:e,animationDistance:t-i,animationNewValue:n[t].value}:void 0},this.grid=this.createGrid(e.gridHeight,e.gridWidth),this.currentScore=0,this.animationDone=!0})),u=t(379),m=t.n(u),f=t(795),h=t.n(f),p=t(569),d=t.n(p),v=t(565),g=t.n(v),y=t(216),b=t.n(y),w=t(589),x=t.n(w),T=t(426),C={};function E(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return D(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?D(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,a=function(){};return{s:a,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return r=n.done,n},e:function(n){l=!0,o=n},f:function(){try{r||null==t.return||t.return()}finally{if(l)throw o}}}}function D(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function I(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function S(n,e,t){return e&&I(n.prototype,e),t&&I(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}C.styleTagTransform=x(),C.setAttributes=g(),C.insert=d().bind(null,"head"),C.domAPI=h(),C.insertStyleElement=b(),m()(T.Z,C),T.Z&&T.Z.locals&&T.Z.locals,t(88);var k={rootElement:document.getElementById("bodyContainer"),scoreWrapper:document.getElementById("scoreWrapper")},A=S((function n(t){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.rootElement=t.rootElement,this.scoreWrapper=t.scoreWrapper,this.drawGrid=function(n){var e=document.createElement("table");e.id="mainTable",k.rootElement.append(e);var t=document.createElement("tbody");e.append(t);for(var i=0;i<n.length;i++){var a=document.createElement("tr");a.style.width=e.style.width,t.append(a);for(var o=0;o<n[i].length;o++){var r=document.createElement("td");a.append(r)}}},this.drawElements=function(n){var t=k.rootElement.firstElementChild.firstElementChild.querySelectorAll("tr");if(Array.isArray(n)){var i,a=E(n);try{for(a.s();!(i=a.n()).done;){var o,r=E(i.value);try{for(r.s();!(o=r.n()).done;){var l=o.value,s=t[l.row-1].querySelectorAll("td");null!==s[l.column-1].firstElementChild&&!1===l.value&&s[l.column-1].firstElementChild.remove(),!1!==l.value&&function(){null!==s[l.column-1].firstElementChild&&s[l.column-1].firstElementChild.remove();var n=document.createElement("div");n.className="basicElement",n.innerText=l.value+"",e(n),s[l.column-1].append(n),setTimeout((function(){n.style.animation="none"}),200)}()}}catch(n){r.e(n)}finally{r.f()}}}catch(n){a.e(n)}finally{a.f()}}else{var c=document.createElement("div");c.className="basicElement",c.innerText=n.animationNewValue+"",e(c),t[n.animationTargetRow-1].querySelectorAll("td")[n.animationTargetColumn-1].append(c),setTimeout((function(){c.style.animation="none"}),200)}},this.getDrawElements=function(){return this.drawElements},this.animate=function(n){var e=this,t=this.getDrawElements();window.matchMedia("(min-width: 768px)").matches&&(this.oneCellDistance=120),window.matchMedia("(max-width: 767px)").matches&&(this.oneCellDistance=80),window.matchMedia("(max-width: 480px)").matches&&(this.oneCellDistance=58);for(var i=document.querySelectorAll("tr"),a=[],o=0;o<k.rootElement.firstElementChild.firstElementChild.firstElementChild.childElementCount;o++){var r,l=[],s=E(i);try{for(s.s();!(r=s.n()).done;){var c=r.value;l.push(c.querySelectorAll("td")[o])}}catch(n){s.e(n)}finally{s.f()}a.push(l)}var u,m=E(n);try{var f=function(){var o=u.value;if("move"===o.animationType){if("right"===o.animationDirection||"left"===o.animationDirection){var r=i[o.animationTargetRow-1].querySelectorAll("td");if("right"===o.animationDirection){var l=r[o.animationTargetColumn-1].firstElementChild;null!==l&&(setTimeout((function(){l.style.animation="none"})),l.style.left=e.oneCellDistance*o.animationDistance+"px",setTimeout((function(){r[o.animationTargetColumn-1+o.animationDistance].appendChild(l),l.style.left="0",l.style.zIndex="1";var n,e=E(r);try{for(e.s();!(n=e.n()).done;){var t=n.value;t.childElementCount>1&&t.firstElementChild.remove()}}catch(n){e.e(n)}finally{e.f()}}),200))}if("left"===o.animationDirection){var s=r[o.animationTargetColumn-1].firstElementChild;null!==s&&(setTimeout((function(){s.style.animation="none"})),s.style.left=-2*e.oneCellDistance*o.animationDistance+"px",setTimeout((function(){r[o.animationTargetColumn-1-o.animationDistance].appendChild(s),s.style.left="0",s.style.zIndex="1";var n,e=E(r);try{for(e.s();!(n=e.n()).done;){var t=n.value;t.childElementCount>1&&t.firstElementChild.remove()}}catch(n){e.e(n)}finally{e.f()}}),200))}}if("top"===o.animationDirection||"bottom"===o.animationDirection){var c=a[o.animationTargetColumn-1];if("top"===o.animationDirection){var m=c[o.animationTargetRow-1].firstElementChild;null!==m&&(setTimeout((function(){m.style.animation="none"})),m.style.top=-e.oneCellDistance*o.animationDistance+"px",setTimeout((function(){c[o.animationTargetRow-1-o.animationDistance].appendChild(m),m.style.top="0",m.style.zIndex="1";var n,e=E(c);try{for(e.s();!(n=e.n()).done;){var t=n.value;t.childElementCount>1&&t.firstElementChild.remove()}}catch(n){e.e(n)}finally{e.f()}}),200))}if("bottom"===o.animationDirection){var f=c[o.animationTargetRow-1].firstElementChild;null!==f&&(setTimeout((function(){f.style.animation="none"})),f.style.top=e.oneCellDistance*o.animationDistance+"px",setTimeout((function(){c[o.animationTargetRow-1+o.animationDistance].appendChild(f),f.style.top="0",f.style.zIndex="1";var n,e=E(c);try{for(e.s();!(n=e.n()).done;){var t=n.value;t.childElementCount>1&&t.firstElementChild.remove()}}catch(n){e.e(n)}finally{e.f()}}),200))}}}if("append"===o.animationType&&setTimeout((function(){t(o),M.animationDone=!0}),300),"sum"===o.animationType){if("left"===o.animationDirection||"right"===o.animationDirection){var h=i[o.animationTargetRow-1].querySelectorAll("td");if("left"===o.animationDirection){var p=0,d=h[o.animationTargetColumn-1].lastElementChild;if(null!==d){var v,g=E(n);try{for(g.s();!(v=g.n()).done;){var y=v.value;"move"===y.animationType&&y.animationTargetRow===o.animationTargetRow&&y.animationTargetColumn===o.animationTargetColumn-o.animationDistance+""&&(p=y.animationDistance)}}catch(n){g.e(n)}finally{g.f()}n.splice(n.length-1,0,e.animateSumHelper(o,o.animationDirection,p,d))}}if("right"===o.animationDirection){var b=0,w=h[o.animationTargetColumn-1].lastElementChild;if(null!==w){var x,T=E(n);try{for(T.s();!(x=T.n()).done;){var C=x.value;"move"===C.animationType&&C.animationTargetRow===o.animationTargetRow&&C.animationTargetColumn===+o.animationTargetColumn+o.animationDistance+""&&(b=C.animationDistance)}}catch(n){T.e(n)}finally{T.f()}n.splice(n.length-1,0,e.animateSumHelper(o,o.animationDirection,b,w))}}}if("top"===o.animationDirection||"bottom"===o.animationDirection){var D=a[o.animationTargetColumn-1];if("top"===o.animationDirection){var I=0,S=D[o.animationTargetRow-1].lastElementChild;if(null!==S){var k,A=E(n);try{for(A.s();!(k=A.n()).done;){var R=k.value;"move"===R.animationType&&R.animationTargetColumn===o.animationTargetColumn&&R.animationTargetRow===o.animationTargetRow-o.animationDistance+""&&(I=R.animationDistance)}}catch(n){A.e(n)}finally{A.f()}n.splice(n.length-1,0,e.animateSumHelper(o,o.animationDirection,I,S))}}if("bottom"===o.animationDirection){var j=0,G=D[o.animationTargetRow-1].lastElementChild;if(null!==G){var H,P=E(n);try{for(P.s();!(H=P.n()).done;){var z=H.value;"move"===z.animationType&&z.animationTargetColumn===o.animationTargetColumn&&z.animationTargetRow===+o.animationTargetRow+o.animationDistance+""&&(j=z.animationDistance)}}catch(n){P.e(n)}finally{P.f()}n.splice(n.length-1,0,e.animateSumHelper(o,o.animationDirection,j,G))}}}}};for(m.s();!(u=m.n()).done;)f()}catch(n){m.e(n)}finally{m.f()}},this.animateSumHelper=function(n,t,i,a){var o={animationType:"move",animationDirection:t,animationDistance:i+n.animationDistance,animationTargetRow:n.animationTargetRow,animationTargetColumn:n.animationTargetColumn};return a.innerText=n.animationNewValue,a.style.zIndex="2",e(a),o},this.getAnimate=function(){return this.animate},this.observers=function(){var n=new MutationObserver((function(){M.currentScore!==parseInt(k.scoreWrapper.lastElementChild.innerText)&&(k.scoreWrapper.lastElementChild.innerText=M.currentScore)})),e=new MutationObserver((function(){k.scoreWrapper.animate([{backgroundColor:"#2EE59D"},{backgroundColor:"whitesmoke"}],500)}));n.observe(k.rootElement.firstElementChild,{subtree:!0,childList:!0,characterDataOldValue:!0}),e.observe(k.scoreWrapper.lastElementChild,{childList:!0,characterDataOldValue:!0,characterData:!0})},this.newGame=function(){var n=document.getElementById("newGameButton"),e=this.drawElements,t=M.getElementCreate();n.onclick=function(){for(var n=document.getElementsByClassName("basicElement");n[0];)n[0].remove();var i,a=E(M.getGrid());try{for(a.s();!(i=a.n()).done;){var o,r=E(i.value);try{for(r.s();!(o=r.n()).done;){var l=o.value;!1!==l.value&&(l.value=!1)}}catch(n){r.e(n)}finally{r.f()}}}catch(n){a.e(n)}finally{a.f()}M.currentScore=0,t(M.getGrid()),t(M.getGrid()),e(M.getGrid())},n.ontouchstart=function(){n.style.background="#2EE59D",n.style.boxShadow="0 15px 20px rgba(46, 229, 157, 0.4)",n.style.color="#fff"},n.ontouchend=function(){n.style.background="whitesmoke",n.style.boxShadow="0 8px 15px rgb(0 0 0 / 10%)",n.style.color="black"}},this.leftImpossible=0,this.downImpossible=0,this.upImpossible=0,this.rightImpossible=0,this.drawGrid(M.getGrid()),this.drawElements(M.getGrid()),this.newGame(),this.touchStart=null,this.touchPosition=null,this.sensitivity=20,this.observers(),this.touchStartFunc=function(n){this.touchStart={x:n.changedTouches[0].clientX,y:n.changedTouches[0].clientY},this.touchPosition={x:this.touchStart.x,y:this.touchStart.y}},this.touchMove=function(n){this.touchPosition={x:n.changedTouches[0].clientX,y:n.changedTouches[0].clientY}},this.touchEnd=function(){var n=R.getAnimate().bind(R),e=M.getMove().bind(M),t=this.checkAction();"Swipe left"===t&&n(e("left")),"Swipe right"===t&&n(e("right")),"Swipe up"===t&&n(e("top")),"Swipe down"===t&&n(e("bottom")),this.touchStart=null,this.touchPosition=null},this.checkAction=function(){var n,e={x:this.touchStart.x-this.touchPosition.x,y:this.touchStart.y-this.touchPosition.y};return Math.abs(e.x)>Math.abs(e.y)?Math.abs(e.x)>this.sensitivity&&(n=e.x>0?"Swipe left":"Swipe right"):Math.abs(e.y)>this.sensitivity&&(n=e.y>0?"Swipe up":"Swipe down"),n}})),M=new c(s),R=new A(k);!function(n,e){var t=n.getAnimate().bind(n),i=e.getMove().bind(e);window.addEventListener("keydown",(function(a){if(a.preventDefault(),e.animationDone){var o,r=!0,l=E(document.querySelectorAll("td"));try{for(l.s();!(o=l.n()).done;)null===o.value.firstElementChild&&(r=!1)}catch(n){l.e(n)}finally{l.f()}if("ArrowLeft"===a.code){var s=i("left");0===s.length&&0===n.leftImpossible&&n.leftImpossible++,s.length>0&&1===n.leftImpossible&&n.leftImpossible--,n.movementImpossible=n.leftImpossible+n.downImpossible+n.upImpossible+n.rightImpossible,4===n.movementImpossible&&!0===r&&alert("Игра окончена"),t(s)}if("ArrowDown"===a.code){var c=i("bottom");0===c.length&&0===n.downImpossible&&n.downImpossible++,c.length>0&&1===n.downImpossible&&n.downImpossible--,n.movementImpossible=n.leftImpossible+n.downImpossible+n.upImpossible+n.rightImpossible,4===n.movementImpossible&&!0===r&&alert("Игра окончена"),t(c)}if("ArrowUp"===a.code){var u=i("top");0===u.length&&0===n.upImpossible&&n.upImpossible++,u.length>0&&1===n.upImpossible&&n.upImpossible--,n.movementImpossible=n.leftImpossible+n.downImpossible+n.upImpossible+n.rightImpossible,4===n.movementImpossible&&!0===r&&alert("Игра окончена"),t(u)}if("ArrowRight"===a.code){var m=i("right");0===m.length&&0===n.rightImpossible&&n.rightImpossible++,m.length>0&&1===n.rightImpossible&&n.rightImpossible--,n.movementImpossible=n.leftImpossible+n.downImpossible+n.upImpossible+n.rightImpossible,4===n.movementImpossible&&!0===r&&alert("Игра окончена"),t(m)}}})),k.rootElement.addEventListener("touchstart",(function(e){e.preventDefault(),n.touchStartFunc(e)})),k.rootElement.addEventListener("touchmove",(function(e){e.preventDefault(),n.touchMove(e)})),k.rootElement.addEventListener("touchend",(function(e){n.touchEnd(e)}))}(R,M)})()})();