(()=>{"use strict";var t={426:(t,e,n)=>{n.d(e,{Z:()=>h});var i=n(81),o=n.n(i),a=n(645),r=n.n(a),l=n(667),s=n.n(l),m=new URL(n(88),n.b),c=r()(o()),u=s()(m);c.push([t.id,"* {\n    font-family: 'Montserrat', sans-serif;\n}\nhtml {\n    height: 100%;\n}\nbody {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    margin-left: auto;\n    margin-right: auto;\n    background-image: url("+u+");\n}\n#headerContainer {\n    display: flex;\n    margin-right: auto;\n    margin-left: auto;\n    align-items: center;\n    padding: 10px;\n}\n#scoreWrapper {\n    text-decoration: none;\n    outline: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 33%;\n    height: 45%;\n    text-align: center;\n    border-radius: 10px;\n    font-family: 'Montserrat', sans-serif;\n    font-size: 11px;\n    text-transform: uppercase;\n    letter-spacing: 3px;\n    font-weight: 600;\n    color: black;\n    background: whitesmoke;\n    box-shadow: 0 8px 15px rgb(0 0 0 / 10%);\n    transition: 500ms;\n}\n#score {\n    display: inline;\n}\n#newGameButton {\n    padding: 0;\n    text-decoration: none;\n    outline: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 33%;\n    height: 45%;\n    border-radius: 10px;\n    margin: 10px 20px;\n    font-family: 'Montserrat', sans-serif;\n    font-size: 11px;\n    text-transform: uppercase;\n    letter-spacing: 3px;\n    font-weight: 600;\n    color: black;\n    background: whitesmoke;\n    box-shadow: 0 8px 15px rgb(0 0 0 / 10%);\n    transition: .3s;\n    cursor: pointer;\n}\n#newGameButton:hover {\n    background: #2EE59D;\n    box-shadow: 0 15px 20px rgba(46, 229, 157, 0.4);\n    color: #fff;\n}\n#gameName {\n    font-family: 'Montserrat', sans-serif;\n    display: flex;\n    color: whitesmoke;\n}\n#bodyContainer {\n    display: flex;\n    justify-content: center;\n    margin-right: auto;\n    margin-left: auto;\n    padding-bottom: 100px;\n}\n#mainTable {\n    display: flex;\n    justify-content: space-evenly;\n    height: 100%;\n    width: 100%;\n    background-color: #beaf9f;\n    border-radius: 10px;\n}\n\ntd {\n    position: relative;\n    border-radius: 10px;\n    background-color: #d0c1b4;\n    padding: 0;\n}\n.basicElement {\n    position: absolute;\n    z-index: 1;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin-right: auto;\n    margin-left: auto;\n    align-items: center;\n    justify-content: center;\n    border-radius: 10px;\n    font-weight: bold;\n    font-size: 35px;\n    transition: 200ms;\n    animation: show 300ms 1;\n    animation-fill-mode: forwards;\n}\n@keyframes show{\n    0% {\n        opacity: 0;\n        -webkit-transform: scale(0);\n        -moz-transform: scale(0);\n        transform: scale(0);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform: scale(1);\n        -moz-transform: scale(1);\n        transform: scale(1);\n    }\n}\n@keyframes pulse{\n    0% {\n        box-shadow: 0 0 0 0 rgba(228, 25, 49, 0.4);\n    }\n    70% {\n        box-shadow: 0 0 0 10px rgba(228, 25, 49, 0);\n    }\n    100% {\n        box-shadow: 0 0 0 0 rgba(228, 25, 49, 0);\n    }\n}\n\n/* Large desktops and laptops */\n/* Portrait tablets and medium desktops */\n/* Portrait tablets and small desktops */\n@media screen and (min-width: 768px) {\n    #headerContainer {\n        width: 620px;\n    }\n    #gameName {\n        font-size: 5em;\n    }\n    #newGameButton {\n        line-height: 45px;\n    }\n    #scoreWrapper {\n        line-height: 45px;\n    }\n    #mainTable {\n        border-spacing: 20px;\n    }\n    tr {\n        height: 100px;\n    }\n    td {\n        height: 100px;\n        width: 100px;\n    }\n}\n\n/* Landscape phones and portrait tablets */\n@media screen and (max-width: 767px) {\n    #headerContainer {\n        width: 410px;\n    }\n    #bodyContainer {\n        padding-bottom: 30px;\n    }\n    #gameName {\n        font-size: 4em;\n    }\n    #newGameButton {\n        line-height: 30px;\n    }\n    #scoreWrapper {\n        line-height: 30px;\n    }\n    #mainTable {\n        border-spacing: 10px;\n    }\n    tr {\n        height: 70px;\n    }\n    td {\n        height: 70px;\n        width: 70px;\n    }\n}\n\n/* Landscape phones and smaller */\n@media screen and (max-width: 480px) {\n    #bodyContainer {\n        padding-bottom: 10px;\n    }\n    #headerContainer {\n        width: 300px;\n    }\n    #gameName {\n        font-size: 3em;\n    }\n    #newGameButton {\n        line-height: 15px;\n        font-size: 8px;\n        letter-spacing: 2px;\n    }\n    #scoreWrapper {\n        line-height: 15px;\n        font-size: 8px;\n        letter-spacing: 2px;\n    }\n    #mainTable {\n        border-spacing: 10px;\n    }\n    .basicElement {\n        font-size: 20px;\n    }\n    tr {\n        height: 48px;\n    }\n    td {\n        height: 48px;\n        width: 48px;\n    }\n}",""]);const h=c},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(i)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(r[s]=!0)}for(var m=0;m<t.length;m++){var c=[].concat(t[m]);i&&r[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),e.push(c))}},e}},667:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var a={},r=[],l=0;l<t.length;l++){var s=t[l],m=i.base?s[0]+i.base:s[0],c=a[m]||0,u="".concat(m," ").concat(c);a[m]=c+1;var h=n(u),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var f=o(p,i);i.byIndex=l,e.splice(l,0,{identifier:u,updater:f,references:1})}r.push(u)}return r}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var a=i(t=t||[],o=o||{});return function(t){t=t||[];for(var r=0;r<a.length;r++){var l=n(a[r]);e[l].references--}for(var s=i(t,o),m=0;m<a.length;m++){var c=n(a[m]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}a=s}}},569:t=>{var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},88:(t,e,n)=>{t.exports=n.p+"ece11d104b7a0c48ba21.jpg"}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var a=e[i]={id:i,exports:{}};return t[i](a,a.exports,n),a.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,(()=>{const t={2:"#f0e5da",4:"#efe2c6",8:"#fbb26c",16:"#ff9251",32:"#ff744e",64:"#ff4d08",128:"#f0d360",256:"#f1d146",512:"#f1cd26",1024:"#f2ca00",2048:"#f2c700"};function e(e){let n=parseInt(e.innerText);n<=2048?(e.style.backgroundColor=t[`${n}`],n>4&&(e.style.color="#faf6f2")):e.style.backgroundColor="black"}function i(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}const o={gridWidth:4,gridHeight:4};var a=n(379),r=n.n(a),l=n(795),s=n.n(l),m=n(569),c=n.n(m),u=n(565),h=n.n(u),p=n(216),f=n.n(p),d=n(589),g=n.n(d),b=n(426),v={};v.styleTagTransform=g(),v.setAttributes=h(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),r()(b.Z,v),b.Z&&b.Z.locals&&b.Z.locals,n(88);const w={rootElement:document.getElementById("bodyContainer"),scoreWrapper:document.getElementById("scoreWrapper")},y=new class{grid=[];constructor(t){this.getGrid=function(){return this.grid},this.addToCurrentScore=function(t){this.currentScore+=t},this.createGrid=function(t,e){for(let n=1;n<=t;n++){let t=[];this.grid.push(t);for(let i=1;i<=e;i++){let e={value:!1,row:`${n}`,column:`${i}`};t.push(e)}}return this.grid},this.elementCreate=function(t){let e,n,a;e=9===i(0,10)?4:2;do{n=i(0,o.gridHeight),a=i(0,o.gridWidth)}while(!1!==t[+n][+a].value);return t[+n][+a].value=e,t[n][a]},this.getElementCreate=function(){return this.elementCreate},this.move=function(t){const e=this.grid;let n=[],i=[];for(let t=0;t<this.grid[0].length;t++){let e=[];for(let n of this.grid)e.push(n[t]);i.push(e)}if("left"===t)for(let t of e){for(let e of this.sum(t,"left"))n.push(e);for(let e=1;e<t.length;e++)if(!1!==t[e].value)for(let i=0;i<=e;i++)if(!1===t[i].value){t[i].value=t[e].value,t[e].value=!1,n.push(this.moveHelper(t,"left",e,i));break}}if("right"===t)for(let t of e){for(let e of this.sum(t,"right"))n.push(e);for(let e=t.length-2;e>=0;e--)if(!1!==t[e].value)for(let i=t.length-1;i>=e;i--)if(!1===t[i].value){t[i].value=t[e].value,t[e].value=!1,n.push(this.moveHelper(t,"right",e,i));break}}if("top"===t)for(let t of i){for(let e of this.sum(t,"top"))n.push(e);for(let e=1;e<t.length;e++)if(!1!==t[e].value)for(let i=0;i<=e;i++)if(!1===t[i].value){t[i].value=t[e].value,t[e].value=!1,n.push(this.moveHelper(t,"top",e,i));break}}if("bottom"===t)for(let t of i){for(let e of this.sum(t,"bottom"))n.push(e);for(let e=t.length-2;e>=0;e--)if(!1!==t[e].value)for(let i=t.length-1;i>=e;i--)if(!1===t[i].value){t[i].value=t[e].value,t[e].value=!1,n.push(this.moveHelper(t,"bottom",e,i));break}}if(n.length>0){this.animationDone=!1;let t=this.elementCreate(this.grid),e={animationType:"append",animationTargetRow:t.row,animationTargetColumn:t.column,animationNewValue:t.value};n.push(e)}return n},this.moveHelper=function(t,e,n,i){return"left"===e||"top"===e?{animationType:"move",animationTargetRow:t[n].row,animationTargetColumn:t[n].column,animationDirection:e,animationDistance:n-i}:"right"===e||"bottom"===e?{animationType:"move",animationTargetRow:t[n].row,animationTargetColumn:t[n].column,animationDirection:e,animationDistance:i-n}:void 0},this.getMove=function(){return this.move},this.sum=function(t,e){let n=[];if("left"===e||"top"===e)for(let i=0;i<t.length&&2!==n.length;i++)if(!1!==t[i].value)for(let o=i+1;o<t.length;o++)if(t[o].value===t[i].value){let a=!0;for(let e of t.slice(i+1,o))!1!==e.value&&(a=!1);if(a){t[i].value*="2",t[o].value=!1,this.addToCurrentScore(t[i].value),n.push(this.sumHelper(t,e,i,o));break}}if("right"===e||"bottom"===e)for(let i=t.length-1;i>=0&&2!==n.length;i--)if(!1!==t[i].value)for(let o=i-1;o>=0;o--)if(t[o].value===t[i].value){let a=!0;for(let e of t.slice(o+1,i))!1!==e.value&&(a=!1);if(a){t[i].value*="2",t[o].value=!1,this.addToCurrentScore(t[i].value),n.push(this.sumHelper(t,e,i,o));break}}return n},this.sumHelper=function(t,e,n,i){return"left"===e||"top"===e?{animationType:"sum",animationTargetRow:t[i].row,animationTargetColumn:t[i].column,animationDirection:e,animationDistance:i-n,animationNewValue:t[n].value}:"right"===e||"bottom"===e?{animationType:"sum",animationTargetRow:t[i].row,animationTargetColumn:t[i].column,animationDirection:e,animationDistance:n-i,animationNewValue:t[n].value}:void 0},this.grid=this.createGrid(t.gridHeight,t.gridWidth),this.currentScore=0,this.animationDone=!0}}(o),x=new class{constructor(t){this.rootElement=t.rootElement,this.scoreWrapper=t.scoreWrapper,this.drawGrid=function(t){const e=document.createElement("table");e.id="mainTable",w.rootElement.append(e);const n=document.createElement("tbody");e.append(n);for(let i=0;i<t.length;i++){let o=document.createElement("tr");o.style.width=e.style.width,n.append(o);for(let e=0;e<t[i].length;e++){let t=document.createElement("td");o.append(t)}}},this.drawElements=function(t){let n=w.rootElement.firstElementChild.firstElementChild.querySelectorAll("tr");if(Array.isArray(t))for(let i of t)for(let t of i){let i=n[t.row-1].querySelectorAll("td");if(null!==i[t.column-1].firstElementChild&&!1===t.value&&i[t.column-1].firstElementChild.remove(),!1!==t.value){null!==i[t.column-1].firstElementChild&&i[t.column-1].firstElementChild.remove();let n=document.createElement("div");n.className="basicElement",n.innerText=t.value+"",e(n),i[t.column-1].append(n),setTimeout((function(){n.style.animation="none"}),200)}}else{let i=document.createElement("div");i.className="basicElement",i.innerText=t.animationNewValue+"",e(i),n[t.animationTargetRow-1].querySelectorAll("td")[t.animationTargetColumn-1].append(i),setTimeout((function(){i.style.animation="none"}),200)}},this.getDrawElements=function(){return this.drawElements},this.animate=function(t){const e=this.getDrawElements();window.matchMedia("(min-width: 768px)").matches&&(this.oneCellDistance=120),window.matchMedia("(max-width: 767px)").matches&&(this.oneCellDistance=80),window.matchMedia("(max-width: 480px)").matches&&(this.oneCellDistance=58);let n=document.querySelectorAll("tr"),i=[];for(let t=0;t<w.rootElement.firstElementChild.firstElementChild.firstElementChild.childElementCount;t++){let e=[];for(let i of n)e.push(i.querySelectorAll("td")[t]);i.push(e)}for(let o of t){if("move"===o.animationType){if("right"===o.animationDirection||"left"===o.animationDirection){let t=n[o.animationTargetRow-1].querySelectorAll("td");if("right"===o.animationDirection){let e=t[o.animationTargetColumn-1].firstElementChild;null!==e&&(setTimeout((function(){e.style.animation="none"})),e.style.left=this.oneCellDistance*o.animationDistance+"px",setTimeout((function(){t[o.animationTargetColumn-1+o.animationDistance].appendChild(e),e.style.left="0",e.style.zIndex="1";for(let e of t)e.childElementCount>1&&e.firstElementChild.remove()}),200))}if("left"===o.animationDirection){let e=t[o.animationTargetColumn-1].firstElementChild;null!==e&&(setTimeout((function(){e.style.animation="none"})),e.style.left=-2*this.oneCellDistance*o.animationDistance+"px",setTimeout((function(){t[o.animationTargetColumn-1-o.animationDistance].appendChild(e),e.style.left="0",e.style.zIndex="1";for(let e of t)e.childElementCount>1&&e.firstElementChild.remove()}),200))}}if("top"===o.animationDirection||"bottom"===o.animationDirection){let t=i[o.animationTargetColumn-1];if("top"===o.animationDirection){let e=t[o.animationTargetRow-1].firstElementChild;null!==e&&(setTimeout((function(){e.style.animation="none"})),e.style.top=-this.oneCellDistance*o.animationDistance+"px",setTimeout((function(){t[o.animationTargetRow-1-o.animationDistance].appendChild(e),e.style.top="0",e.style.zIndex="1";for(let e of t)e.childElementCount>1&&e.firstElementChild.remove()}),200))}if("bottom"===o.animationDirection){let e=t[o.animationTargetRow-1].firstElementChild;null!==e&&(setTimeout((function(){e.style.animation="none"})),e.style.top=this.oneCellDistance*o.animationDistance+"px",setTimeout((function(){t[o.animationTargetRow-1+o.animationDistance].appendChild(e),e.style.top="0",e.style.zIndex="1";for(let e of t)e.childElementCount>1&&e.firstElementChild.remove()}),200))}}}if("append"===o.animationType&&setTimeout((function(){e(o),y.animationDone=!0}),300),"sum"===o.animationType){if("left"===o.animationDirection||"right"===o.animationDirection){let e=n[o.animationTargetRow-1].querySelectorAll("td");if("left"===o.animationDirection){let n=0,i=e[o.animationTargetColumn-1].lastElementChild;if(null!==i){for(let e of t)"move"===e.animationType&&e.animationTargetRow===o.animationTargetRow&&e.animationTargetColumn===o.animationTargetColumn-o.animationDistance+""&&(n=e.animationDistance);t.splice(t.length-1,0,this.animateSumHelper(o,o.animationDirection,n,i))}}if("right"===o.animationDirection){let n=0,i=e[o.animationTargetColumn-1].lastElementChild;if(null!==i){for(let e of t)"move"===e.animationType&&e.animationTargetRow===o.animationTargetRow&&e.animationTargetColumn===+o.animationTargetColumn+o.animationDistance+""&&(n=e.animationDistance);t.splice(t.length-1,0,this.animateSumHelper(o,o.animationDirection,n,i))}}}if("top"===o.animationDirection||"bottom"===o.animationDirection){let e=i[o.animationTargetColumn-1];if("top"===o.animationDirection){let n=0,i=e[o.animationTargetRow-1].lastElementChild;if(null!==i){for(let e of t)"move"===e.animationType&&e.animationTargetColumn===o.animationTargetColumn&&e.animationTargetRow===o.animationTargetRow-o.animationDistance+""&&(n=e.animationDistance);t.splice(t.length-1,0,this.animateSumHelper(o,o.animationDirection,n,i))}}if("bottom"===o.animationDirection){let n=0,i=e[o.animationTargetRow-1].lastElementChild;if(null!==i){for(let e of t)"move"===e.animationType&&e.animationTargetColumn===o.animationTargetColumn&&e.animationTargetRow===+o.animationTargetRow+o.animationDistance+""&&(n=e.animationDistance);t.splice(t.length-1,0,this.animateSumHelper(o,o.animationDirection,n,i))}}}}}},this.animateSumHelper=function(t,n,i,o){let a={animationType:"move",animationDirection:n,animationDistance:i+t.animationDistance,animationTargetRow:t.animationTargetRow,animationTargetColumn:t.animationTargetColumn};return o.innerText=t.animationNewValue,o.style.zIndex="2",e(o),a},this.getAnimate=function(){return this.animate},this.observers=function(){const t=new MutationObserver((function(){y.currentScore!==parseInt(w.scoreWrapper.lastElementChild.innerText)&&(w.scoreWrapper.lastElementChild.innerText=y.currentScore)})),e=new MutationObserver((function(){w.scoreWrapper.animate([{backgroundColor:"#2EE59D"},{backgroundColor:"whitesmoke"}],500)}));t.observe(w.rootElement.firstElementChild,{subtree:!0,childList:!0,characterDataOldValue:!0}),e.observe(w.scoreWrapper.lastElementChild,{childList:!0,characterDataOldValue:!0,characterData:!0})},this.newGame=function(){const t=document.getElementById("newGameButton"),e=this.drawElements,n=y.getElementCreate();t.onclick=function(){let t=document.getElementsByClassName("basicElement");for(;t[0];)t[0].remove();for(let t of y.getGrid())for(let e of t)!1!==e.value&&(e.value=!1);y.currentScore=0,n(y.getGrid()),n(y.getGrid()),e(y.getGrid())},t.ontouchstart=function(){t.style.background="#2EE59D",t.style.boxShadow="0 15px 20px rgba(46, 229, 157, 0.4)",t.style.color="#fff"},t.ontouchend=function(){t.style.background="whitesmoke",t.style.boxShadow="0 8px 15px rgb(0 0 0 / 10%)",t.style.color="black"}},this.leftImpossible=0,this.downImpossible=0,this.upImpossible=0,this.rightImpossible=0,this.drawGrid(y.getGrid()),this.drawElements(y.getGrid()),this.newGame(),this.touchStart=null,this.touchPosition=null,this.sensitivity=20,this.observers(),this.touchStartFunc=function(t){this.touchStart={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY},this.touchPosition={x:this.touchStart.x,y:this.touchStart.y}},this.touchMove=function(t){this.touchPosition={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}},this.touchEnd=function(){const t=x.getAnimate().bind(x),e=y.getMove().bind(y);let n=this.checkAction();"Swipe left"===n&&t(e("left")),"Swipe right"===n&&t(e("right")),"Swipe up"===n&&t(e("top")),"Swipe down"===n&&t(e("bottom")),this.touchStart=null,this.touchPosition=null},this.checkAction=function(){let t,e={x:this.touchStart.x-this.touchPosition.x,y:this.touchStart.y-this.touchPosition.y};return Math.abs(e.x)>Math.abs(e.y)?Math.abs(e.x)>this.sensitivity&&(t=e.x>0?"Swipe left":"Swipe right"):Math.abs(e.y)>this.sensitivity&&(t=e.y>0?"Swipe up":"Swipe down"),t}}}(w);!function(t,e){const n=t.getAnimate().bind(t),i=e.getMove().bind(e);window.addEventListener("keydown",(function(o){if(o.preventDefault(),e.animationDone){let e=!0;for(let t of document.querySelectorAll("td"))null===t.firstElementChild&&(e=!1);if("ArrowLeft"===o.code){let o=i("left");0===o.length&&0===t.leftImpossible&&t.leftImpossible++,o.length>0&&1===t.leftImpossible&&t.leftImpossible--,t.movementImpossible=t.leftImpossible+t.downImpossible+t.upImpossible+t.rightImpossible,4===t.movementImpossible&&!0===e&&alert("Игра окончена"),n(o)}if("ArrowDown"===o.code){let o=i("bottom");0===o.length&&0===t.downImpossible&&t.downImpossible++,o.length>0&&1===t.downImpossible&&t.downImpossible--,t.movementImpossible=t.leftImpossible+t.downImpossible+t.upImpossible+t.rightImpossible,4===t.movementImpossible&&!0===e&&alert("Игра окончена"),n(o)}if("ArrowUp"===o.code){let o=i("top");0===o.length&&0===t.upImpossible&&t.upImpossible++,o.length>0&&1===t.upImpossible&&t.upImpossible--,t.movementImpossible=t.leftImpossible+t.downImpossible+t.upImpossible+t.rightImpossible,4===t.movementImpossible&&!0===e&&alert("Игра окончена"),n(o)}if("ArrowRight"===o.code){let o=i("right");0===o.length&&0===t.rightImpossible&&t.rightImpossible++,o.length>0&&1===t.rightImpossible&&t.rightImpossible--,t.movementImpossible=t.leftImpossible+t.downImpossible+t.upImpossible+t.rightImpossible,4===t.movementImpossible&&!0===e&&alert("Игра окончена"),n(o)}}})),w.rootElement.addEventListener("touchstart",(function(e){e.preventDefault(),t.touchStartFunc(e)})),w.rootElement.addEventListener("touchmove",(function(e){e.preventDefault(),t.touchMove(e)})),w.rootElement.addEventListener("touchend",(function(e){t.touchEnd(e)}))}(x,y)})()})();